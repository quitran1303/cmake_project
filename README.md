# CMake, With Unity Framework Challenge Project
Authors: **Qui Tran**

## NOTES: for checkout the code with submodule
    $git clone --recurse-submodules git@github.com:quitran1303/cmake_project.git 

## Code structure
    {project_root}/
    |_.github
        |_workflows  # contains github actions workflow
    |_external       # all external libraries
        |_Unity      # checkout code of Unity unit test framework
    |_src            # main application code
        |_modules        # all modules code, util code
            |_module_a   # code for module a
            |_...
    |_bin            # The binary for application will be copied to here
    |_include        # The header files for all lib and app will be put here
    |_lib            # All libraries are copied here
    |_out            # Temporary folder for build and testing
        |_build      # main folder for build app
        |_test       # folder for testing unit test output
    |_test           # testing codes
        |_suite_module_a #testing code for module_a
        |_...
    |_build-and-test            # configure, build then run test
    |_build-and-run             # configure, build then run application with example
    |_clean_cmake_output.sh     # clean all output generated by cmake and make
## To run test
### By command
    #Run configuration to generate Makefile and other neccessary files
    $ cmake -DTARGET_GROUP=test -S . -B out/test
    
    #Build code with TARGET_GROUP=test
    $ cd out/test
    $ make

    #Run test with ctest
    $ cd out/test
    $ ctest --verbose

### By built-in scripts
    #Run build-and-test script
    $ ./build-and-test

## To run production 
### By command
    #Run configuration to generate Makefile and other neccessary files
    $ cmake -DTARGET_GROUP=production -S . -B out/build
    
    #Build code with TARGET_GROUP=test
    $ cd out/build
    $ make && make install

    #Run application with bin file
    $ ./bin/Main

### By built-in scripts
    #Run build-and-run script
    $ ./build-and-run

